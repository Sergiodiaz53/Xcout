{%extends "includes/basic.html"%}
{%load staticfiles%}
{%block content%}
    <script type="text/javascript" src="{% static 'js/visualizationManager.js' %}"></script>
    <script> var myJSON = "{{ chromosomes }}"</script>



    <div class="row">

        <div id="overlay">
            <div id="spinner" class="spinner">
                <div class="rect1"></div>
                <div class="rect2"></div>
                <div class="rect3"></div>
                <div class="rect4"></div>
                <div class="rect5"></div>
                <p id="loadingtext">Loading...</p>
            </div>
        </div>
        
        <div class="col-sm-4 center-block">
            <div class="affix sidemenu">
                <!-- Functionalities Tabs -->                
                <ul class="nav nav-tabs nav-justified">
                    <li class="active">
                        <a data-toggle="tab" href="#xcoutSideMenu">XCout</a>
                    </li>
                    <li>
                        <a data-toggle="tab" href="#blockTracerSideMenu">BlockTracer</a>
                    </li>
                </ul>

                <!-- Functionalities Tab Content -->
                <div class="tab-content">
                    <!-- XCout Sidemenu -->
                    <div id="xcoutSideMenu" class="tab-pane fade in active">
                        <!-- Species Table -->

                        <div class="form-inline text-center sidemenu_member">
                            <div class="form-group">
                                <select class="form-control input-sm" id="specieX">
                                {% for chromosome in chromosomes %}
                                    <option value="{{ chromosome }}">{{ chromosome }}</option>
                                {% endfor %}
                                </select>
                            </div>

                            <div class="form-group">
                                <select class="form-control input-sm" id="specieY">
                                {% for chromosome in chromosomes %}
                                    <option value="{{ chromosome }}">{{ chromosome }}</option>
                                {% endfor %}
                                </select>
                            </div>

                            <button type="button" class="btn btn-default" id="addComparison" data-toggle="tooltip" title="Load from Server" data-placement="bottom"><bs-glyphicon icon="plus"></bs-glyphicon></button>
                            
                            <button type="button" class="btn btn-secondary" id="loadLocal" data-toggle="tooltip" title="Load from Local" data-placement="bottom"><bs-glyphicon icon="folder-open"></bs-glyphicon></button>
                            <div id="collapseLocal" class="panel-collapse collapse" >
                                <input type="file" id="file-input" webkitdirectory directory multiple>
                            </div>
                        </div>


                        <div id="comparisonList">
                            <table class="table table-striped">
                                <tbody>
                                <thead>
                                    <tr>
                                        <th class="col-md-4">Specie X</th>
                                        <th class="col-md-2"> </th>
                                        <th class="col-md-4">Specie Y</th>
                                        <th class="col-md-2"></th>
                                    </tr>
                                    </thead>
                                </tbody>
                            </table>
                        </div>

                        <!-- Comparison Data -->
                    
                        <div id="comparisonData" class="form-inline text-center sidemenu_member">
                            
                        </div>
                        
                        <!-- Overlay -->

                        <div id="comparisonOverlay" class="form-inline text-center sidemenu_member">

                        </div>

                        <!-- Preview -->

                        <div id="comparisonInfo" style="display: none" class="form-inline text-center sidemenu_member">
                            <div class="btn-group text-center" role="group" aria-label="Button tools menu">
                                <button id="legendButton" type="button" class="btn btn-secondary" data-toggle="collapse" data-target="#collapseOverlay">Legend</button>
                            </div>

                            <div id="collapseOverlay" class="panel-collapse collapse">
                                <!-- <table class="table table-sm" style='table-layout: fixed'> 
                                    <tbody id="collapseOverlayInfo">
                                        
                                    </tbody>
                                </table>   -->  
                            <div id="collapseOverlayInfo" class='col-sm-12'></div>                  
                            </div>
                        </div>
                        
                        <div id="comparisonPreview" class="form-inline text-center sidemenu_member">

                        </div>

                        <!-- Config -->

                        <div class="form-inline text-center sidemenu_member">
                            <div class="btn-group text-center" role="group" aria-label="Button tools menu">
                                <button type="button" id="configButton" class="btn btn-secondary" data-toggle="collapse" data-target="#collapseConfig">Configuration <bs-glyphicon icon="cog"></bs-glyphicon></button>
                            </div>
                        </div>

                        <div id="collapseConfig" class="panel-collapse collapse">
                            <div id="cellSizeRow" class="row config_row">
                                <div class="form-inline text-center sidemenu_member">
                                    Cell size</br>
                                    <div class="form-group col-md-12 config_slider" id="itemSize_slider"> </div> 
                                    <button type="button" class="btn btn-secondary config_button" id="fitScreen" data-toggle="tooltip" title="Fit to Screen" data-placement="top"><bs-glyphicon icon="resize-full"></bs-glyphicon></button> </br> 
                                </div>
                            </div>
                            <div id="colorRow" class="row config_row">
                                <div class="form-inline text-center sidemenu_member">
                                    Color thresholds</br>
                                    <div class="form-group col-md-12 config_slider" id="color_slider"> </div> 
                                    <button type="button" class="btn btn-warning config_button" id="autoThreshold" data-toggle="tooltip" title="Suggested Thresholds" data-placement="top"><bs-glyphicon icon="refresh"></bs-glyphicon></button> </br> 
                                </div>
                            </div>
                            <div id="thresholdRow" class="row config_row">
                                <div class="form-inline text-center sidemenu_member">
                                    Overlay threshold</br>
                                    <div class="form-group col-md-12 config_slider" id="threshold_slider"> </div>
        <a href="https://stackoverflow.com/questions/17714705/how-to-use-checkbox-inside-select-option"></a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- BlockTracer Sidemenu -->
                    <div id="blockTracerSideMenu"  class="tab-pane fade">
                        Test
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-7" style='height: 100%;'>
            <div id="xcoutCanvas" class="heatmap"></div>
            <div id="blockTracerCanvas" class="heatmap"></div>
        </div>


    </div>

    <script>
        $("#CS").slider({});
    </script>


    <!-- Config Modal End -->


    <link rel="stylesheet" href="{% static "bower_components/seiyria-bootstrap-slider/dist/css/bootstrap-slider.min.css" %}">
    <script type="text/javascript" src="{% static "bower_components/seiyria-bootstrap-slider/dist/bootstrap-slider.min.js" %}"></script>

    <script type="text/javascript" src="{% static "js/controllers/indexController.js" %}"></script>
    <script type="text/javascript" src="{% static "js/localComparison.js" %}"></script>


{% endblock %}
